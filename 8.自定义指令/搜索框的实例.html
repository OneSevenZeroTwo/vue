<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<link rel="stylesheet" href="weui.css" />

	<body>
		<div id="demo">
			<div class="weui-search-bar" :class="{'weui-search-bar_focusing':!isSearch}" id="search_bar">
				<form class="weui-search-bar__form">
					<div class="weui-search-bar__box">
						<i class="weui-icon-search"></i>
						<input id="search" v-model="search" type="search" class="weui-search-bar__input" id="search_input" placeholder="搜索" />
						<a v-focuss @click="clear()" href="javascript:" class="weui-icon-clear" id="search_clear"></a>
					</div>
					<label @click="isSearch=false" for="search_input" class="weui-search-bar__label" id="search_text">
            <i class="weui-icon-search"></i>
            <span>搜索</span>
        </label>
				</form>
				<a href="javascript:" @click="isSearch=true" class="weui-search-bar__cancel-btn" id="search_cancel">取消</a>
			</div>
		</div>
	</body>
	<script src="vue.js"></script>
	<script>
		//操作DOM结构的方法
		Vue.directive("focuss",function(){
			console.log(this)
			this.el.addEventListener("click",function(){
				document.getElementById("search").focus()
			})
		})
		new Vue({
			el: "#demo",
			data: {
				search:"",
				isSearch: "false"
			},
			methods:{
				clear:function(){
					this.search = "";
					document.getElementById("search").focus()
				}
			}
		})
	</script>

</html>